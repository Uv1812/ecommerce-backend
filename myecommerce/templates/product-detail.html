{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail - Bhavi India Fashion</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&family=Jost:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    {% include 'navbar.html' %}

    <main class="container my-5">
        <div class="row">
            <!-- Product Images -->
            <div class="col-md-6 mb-4">
                <div class="product-gallery">
                    <img src="https://via.placeholder.com/600x800" id="main-product-image" class="img-fluid rounded mb-3" alt="Product Name">
                    <div class="row g-2">
                        <div class="col-3">
                            <img src="https://via.placeholder.com/150x200" class="img-fluid rounded thumbnail-image" alt="Product view 1">
                        </div>
                        <div class="col-3">
                            <img src="https://via.placeholder.com/150x200" class="img-fluid rounded thumbnail-image" alt="Product view 2">
                        </div>
                        <div class="col-3">
                            <img src="https://via.placeholder.com/150x200" class="img-fluid rounded thumbnail-image" alt="Product view 3">
                        </div>
                        <div class="col-3">
                            <img src="https://via.placeholder.com/150x200" class="img-fluid rounded thumbnail-image" alt="Product view 4">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Details -->
            <div class="col-md-6">
                <h1 class="mb-3">Traditional Embroidered Dupatta</h1>
                <div class="mb-3">
                    <h3 class="text-primary">₹1,299</h3>
                    <span class="badge bg-success">In Stock</span>
                </div>
                
                <div class="mb-4">
                    <div class="product-rating">
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="fas fa-star text-warning"></i>
                        <i class="far fa-star text-warning"></i>
                        <span class="ms-2">4.0 (24 reviews)</span>
                    </div>
                </div>

                <div class="mb-4">
                    <p>Beautifully crafted traditional dupatta with intricate embroidery work. Perfect for special occasions and festivals.</p>
                </div>

                <div class="mb-4">
                    <h5>Select Color</h5>
                    <div class="d-flex gap-2 mt-2">
                        <div class="color-option active" style="background-color: #A52A2A;"></div>
                        <div class="color-option" style="background-color: #228B22;"></div>
                        <div class="color-option" style="background-color: #4169E1;"></div>
                        <div class="color-option" style="background-color: #800080;"></div>
                    </div>
                </div>

                <div class="mb-4">
                    <h5>Quantity</h5>
                    <div class="quantity-selector d-flex align-items-center mt-2">
                        <button class="btn btn-outline-secondary btn-sm" id="decrease-qty">-</button>
                        <input type="number" class="form-control mx-2" id="quantity" value="1" min="1" style="width: 60px;">
                        <button class="btn btn-outline-secondary btn-sm" id="increase-qty">+</button>
                    </div>
                </div>

                <div class="d-grid gap-2 mb-4">
                    <button class="btn btn-primary" id="add-to-cart">
                        <i class="fas fa-shopping-cart me-2"></i>Add to Cart
                    </button>
                    <button class="btn btn-outline-primary" id="add-to-wishlist">
                        <i class="far fa-heart me-2"></i>Add to Wishlist
                    </button>
                </div>

                <div class="mb-4">
                    <h5>Features</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-check text-success me-2"></i> Premium fabric quality</li>
                        <li><i class="fas fa-check text-success me-2"></i> Traditional design</li>
                        <li><i class="fas fa-check text-success me-2"></i> Custom sizing available</li>
                        <li><i class="fas fa-check text-success me-2"></i> Easy maintenance</li>
                    </ul>
                </div>

                <!-- Delivery Information -->
                <div class="mb-4">
                    <h5>Delivery Information</h5>
                    <p><i class="fas fa-truck me-2"></i> Free delivery on orders above ₹999</p>
                    <p><i class="fas fa-undo me-2"></i> Easy 7-day returns</p>
                </div>
            </div>
        </div>

        <!-- Product Description Tabs -->
        <div class="row mt-5">
            <div class="col-12">
                <ul class="nav nav-tabs" id="productTabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab">Description</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="specifications-tab" data-bs-toggle="tab" data-bs-target="#specifications" type="button" role="tab">Specifications</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab">Reviews (24)</button>
                    </li>
                </ul>
                <div class="tab-content p-4 border border-top-0 rounded-bottom" id="productTabsContent">
                    <div class="tab-pane fade show active" id="description" role="tabpanel">
                        <h4>Product Description</h4>
                        <p>This beautiful dupatta is handcrafted by our skilled artisans using traditional techniques passed down through generations. The intricate embroidery work showcases the rich cultural heritage of Indian craftsmanship.</p>
                        <p>Perfect for special occasions, festivals, or simply to add elegance to your everyday attire. Each piece is carefully crafted to ensure premium quality and longevity.</p>
                    </div>
                    <div class="tab-pane fade" id="specifications" role="tabpanel">
                        <h4>Product Specifications</h4>
                        <table class="table">
                            <tbody>
                                <tr>
                                    <th scope="row">Material</th>
                                    <td>Pure Cotton</td>
                                </tr>
                                <tr>
                                    <th scope="row">Dimensions</th>
                                    <td>2.5 meters x 1 meter</td>
                                </tr>
                                <tr>
                                    <th scope="row">Work Type</th>
                                    <td>Hand Embroidery</td>
                                </tr>
                                <tr>
                                    <th scope="row">Care Instructions</th>
                                    <td>Dry Clean Only</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="reviews" role="tabpanel">
                        <h4>Customer Reviews</h4>
                        
                        <!-- Review Summary -->
                        <div class="review-summary mb-4">
                            <div class="row align-items-center">
                                <div class="col-md-3 text-center">
                                    <h2 class="mb-0">4.0</h2>
                                    <div class="mb-2">
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="fas fa-star text-warning"></i>
                                        <i class="far fa-star text-warning"></i>
                                    </div>
                                    <p class="text-muted">Based on 24 reviews</p>
                                </div>
                                <div class="col-md-9">
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2">5</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-success" style="width: 60%"></div>
                                        </div>
                                        <span class="ms-2">15</span>
                                    </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2">4</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-success" style="width: 25%"></div>
                                        </div>
                                        <span class="ms-2">6</span>
                                    </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2">3</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-warning" style="width: 10%"></div>
                                        </div>
                                        <span class="ms-2">2</span>
                                    </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2">2</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-danger" style="width: 4%"></div>
                                        </div>
                                        <span class="ms-2">1</span>
                                    </div>
                                    <div class="d-flex align-items-center mb-2">
                                        <span class="me-2">1</span>
                                        <div class="progress flex-grow-1" style="height: 8px;">
                                            <div class="progress-bar bg-danger" style="width: 0%"></div>
                                        </div>
                                        <span class="ms-2">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Write a Review Form -->
                        <div class="write-review mb-4">
                            <h5>Write a Review</h5>
                            <form id="reviewForm">
                                <div class="mb-3">
                                    <label class="form-label">Rating</label>
                                    <div class="rating-input">
                                        <i class="far fa-star fs-5 review-star" data-rating="1"></i>
                                        <i class="far fa-star fs-5 review-star" data-rating="2"></i>
                                        <i class="far fa-star fs-5 review-star" data-rating="3"></i>
                                        <i class="far fa-star fs-5 review-star" data-rating="4"></i>
                                        <i class="far fa-star fs-5 review-star" data-rating="5"></i>
                                        <input type="hidden" name="rating" id="selected-rating" value="">
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Your Review</label>
                                    <textarea class="form-control" name="review" rows="3" required></textarea>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Your Name</label>
                                    <input type="text" class="form-control" name="name" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email Address</label>
                                    <input type="email" class="form-control" name="email" required>
                                </div>
                                <button type="submit" class="btn btn-primary">Submit Review</button>
                            </form>
                        </div>
                        
                        <!-- Customer Reviews List -->
                        <div class="customer-reviews mt-5">
                            <h5>Customer Reviews</h5>
                            
                            <!-- Review Card 1 -->
                            <div class="review-card p-3 border rounded mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                        </div>
                                        <strong>Priya Sharma</strong>
                                    </div>
                                    <small class="text-muted">2 days ago</small>
                                </div>
                                <p class="mb-0">Absolutely love this dupatta! The embroidery is beautiful and the fabric quality is excellent. Received many compliments when I wore it for a family function. Would definitely recommend!</p>
                            </div>
                            
                            <!-- Review Card 2 -->
                            <div class="review-card p-3 border rounded mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i>
                                        </div>
                                        <strong>Ananya Patel</strong>
                                    </div>
                                    <small class="text-muted">1 week ago</small>
                                </div>
                                <p class="mb-0">The design and color are just as shown in the pictures. The fabric is soft and comfortable. Taking away one star because delivery took longer than expected, but overall very satisfied with my purchase.</p>
                            </div>
                            
                            <!-- Review Card 3 -->
                            <div class="review-card p-3 border rounded mb-3">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="d-flex align-items-center">
                                        <div class="me-3">
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="fas fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i>
                                            <i class="far fa-star text-warning"></i>
                                        </div>
                                        <strong>Rajesh Gupta</strong>
                                    </div>
                                    <small class="text-muted">2 weeks ago</small>
                                </div>
                                <p class="mb-0">Bought this as a gift for my wife and she liked it. The embroidery is nice but could be more detailed for the price. Good customer service when I had questions about delivery.</p>
                            </div>
                            
                            <!-- More Reviews Button -->
                            <div class="text-center mt-4">
                                <button class="btn btn-outline-primary">Load More Reviews</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Similar Products Section -->
        <div class="similar-products mt-5">
            <h3 class="mb-4">You May Also Like</h3>
            <div class="row">
                <!-- Similar Product 1 -->
                <div class="col-6 col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="https://via.placeholder.com/300x400" class="card-img-top" alt="Product">
                        <div class="card-body">
                            <h5 class="card-title">Embroidered Blouse</h5>
                            <p class="card-text product-price">₹899</p>
                            <button class="btn btn-primary w-100">View Details</button>
                        </div>
                    </div>
                </div>
                <!-- Similar Product 2 -->
                <div class="col-6 col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="https://via.placeholder.com/300x400" class="card-img-top" alt="Product">
                        <div class="card-body">
                            <h5 class="card-title">Designer Kurti</h5>
                            <p class="card-text product-price">₹1,199</p>
                            <button class="btn btn-primary w-100">View Details</button>
                        </div>
                    </div>
                </div>
                <!-- Similar Product 3 -->
                <div class="col-6 col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="https://via.placeholder.com/300x400" class="card-img-top" alt="Product">
                        <div class="card-body">
                            <h5 class="card-title">Traditional Choli</h5>
                            <p class="card-text product-price">₹1,599</p>
                            <button class="btn btn-primary w-100">View Details</button>
                        </div>
                    </div>
                </div>
                <!-- Similar Product 4 -->
                <div class="col-6 col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="kurti.jpg" class="card-img-top" alt="Product">
                        <div class="card-body">
                            <h5 class="card-title">Printed Dupatta</h5>
                            <p class="card-text product-price">₹799</p>
                            <button class="btn btn-primary w-100">View Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    {% include 'footer.html' %}

    <div id="notification-area" class="position-fixed bottom-0 end-0 p-3"></div>
    {% include 'login.html' %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function() {
            // Quantity Selector
            $('#increase-qty').click(function() {
                let currentQty = parseInt($('#quantity').val());
                $('#quantity').val(currentQty + 1);
            });
            
            $('#decrease-qty').click(function() {
                let currentQty = parseInt($('#quantity').val());
                if (currentQty > 1) {
                    $('#quantity').val(currentQty - 1);
                }
            });
            
            // Color Selection
            $('.color-option').click(function() {
                $('.color-option').removeClass('active');
                $(this).addClass('active');
            });
            
            // Product Image Gallery
            $('.thumbnail-image').click(function() {
                let newImageSrc = $(this).attr('src');
                $('#main-product-image').attr('src', newImageSrc);
            });
            
            // Review Star Rating
            $('.review-star').hover(
                function() {
                    let rating = $(this).data('rating');
                    highlightStars(rating);
                },
                function() {
                    let selectedRating = $('#selected-rating').val();
                    if (selectedRating) {
                        highlightStars(selectedRating);
                    } else {
                        $('.review-star').removeClass('fas').addClass('far');
                    }
                }
            );
            
            $('.review-star').click(function() {
                let rating = $(this).data('rating');
                $('#selected-rating').val(rating);
                highlightStars(rating);
            });
            
            function highlightStars(rating) {
                $('.review-star').each(function() {
                    let starRating = $(this).data('rating');
                    if (starRating <= rating) {
                        $(this).removeClass('far').addClass('fas');
                    } else {
                        $(this).removeClass('fas').addClass('far');
                    }
                });
            }
            
            // Add to Cart Notification
            $('#add-to-cart').click(function() {
                const notification = $(`
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        Product added to cart successfully!
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);
                
                $('#notification-area').append(notification);
                setTimeout(() => {
                    notification.alert('close');
                }, 3000);
                
                // Update cart count
                let currentCount = parseInt($('.cart-count').text());
                let quantity = parseInt($('#quantity').val());
                $('.cart-count').text(currentCount + quantity);
            });
            
            // Add to Wishlist
            $('#add-to-wishlist').click(function() {
                const notification = $(`
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        Product added to wishlist!
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);
                
                $('#notification-area').append(notification);
                setTimeout(() => {
                    notification.alert('close');
                }, 3000);
                
                // Update wishlist count
                let currentCount = parseInt($('.wishlist-count').text());
                $('.wishlist-count').text(currentCount + 1);
            });
            
            // Submit Review Form
            $('#reviewForm').submit(function(e) {
                e.preventDefault();
                
                // Validate if rating is selected
                if (!$('#selected-rating').val()) {
                    alert('Please select a rating');
                    return;
                }
                
                // Show notification
                const notification = $(`
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        Your review has been submitted successfully!
                        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                    </div>
                `);
                
                $('#notification-area').append(notification);
                setTimeout(() => {
                    notification.alert('close');
                }, 3000);
                
                // Reset form
                this.reset();
                $('#selected-rating').val('');
                $('.review-star').removeClass('fas').addClass('far');
            });
        });
    </script>
</body>
</html>
